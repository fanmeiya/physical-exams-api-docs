<!DOCTYPE html>
<html>
<head>
    <title>体检智能分析系统 API 文档</title>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/swagger-ui-dist@3.52.5/swagger-ui.css" />
    <style>
        .swagger-ui .info .title {
            color: #3b4151;
        }
    </style>
</head>
<body>
    <div id="swagger-ui"></div>
    <script src="https://unpkg.com/swagger-ui-dist@3.52.5/swagger-ui-bundle.js"></script>
    <script>
        const spec = {"openapi": "3.0.0", "info": {"title": "体检智能分析系统", "description": "提供体检报告解读和套餐推荐服务的API", "version": "1.0.0"}, "paths": {"/health_report": {"post": {"summary": "Health Report", "description": "处理健康问卷提交", "operationId": "health_report_health_report_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/HealthReportRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TaskResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/interpret_result/{task_id}": {"get": {"summary": "Get Interpret Result", "description": "获取体检报告解读结果", "operationId": "get_interpret_result_interpret_result__task_id__get", "parameters": [{"name": "task_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Task Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/recommend_result/{task_id}": {"get": {"summary": "Get Recommend Result", "description": "获取体检套餐推荐结果", "operationId": "get_recommend_result_recommend_result__task_id__get", "parameters": [{"name": "task_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Task Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/task_status/{task_id}": {"get": {"summary": "Get Task Status", "description": "获取任务状态", "operationId": "get_task_status_task_status__task_id__get", "parameters": [{"name": "task_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Task Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TaskStatusResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/companies/{company_code}/packages/generate": {"post": {"summary": "Generate Company Packages", "description": "企业端生成体检套餐方案", "operationId": "generate_company_packages_companies__company_code__packages_generate_post", "parameters": [{"name": "company_code", "in": "path", "required": true, "schema": {"type": "string", "title": "Company Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PackageResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/companies/{company_code}/packages/status": {"get": {"summary": "Get Company Package Status", "description": "获取企业套餐生成状态", "operationId": "get_company_package_status_companies__company_code__packages_status_get", "parameters": [{"name": "company_code", "in": "path", "required": true, "schema": {"type": "string", "title": "Company Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/companies/{company_code}/dashboard": {"get": {"summary": "Get Company Dashboard", "description": "企业端查看健康数据看板", "operationId": "get_company_dashboard_companies__company_code__dashboard_get", "parameters": [{"name": "company_code", "in": "path", "required": true, "schema": {"type": "string", "title": "Company Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/companies/{company_code}/packages/compare": {"get": {"summary": "Get Company Package Compare", "description": "企业端与之前体检套餐的对比分析", "operationId": "get_company_package_compare_companies__company_code__packages_compare_get", "parameters": [{"name": "company_code", "in": "path", "required": true, "schema": {"type": "string", "title": "Company Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/health": {"get": {"summary": "Health Check", "description": "健康检查接口", "operationId": "health_check_health_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}}, "components": {"schemas": {"HTTPValidationError": {"properties": {"detail": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Detail"}}, "type": "object"}, "HealthReportRequest": {"properties": {"action": {"type": "string", "title": "Action"}, "name": {"type": "string", "title": "Name"}, "title": {"type": "string", "title": "Title"}, "user_id": {"title": "User Id", "type": "string", "nullable": true}, "uuid": {"title": "Uuid", "type": "string", "nullable": true}, "pdf": {"title": "Pdf", "type": "string", "nullable": true}, "company_code": {"title": "Company Code", "default": "default_company", "type": "string", "nullable": true}, "gender": {"title": "Gender", "type": "string", "nullable": true}, "age": {"title": "Age", "type": "integer", "nullable": true}, "pulse": {"title": "Pulse", "type": "integer", "nullable": true}, "waistline": {"title": "Waistline", "type": "integer", "nullable": true}, "sbp": {"title": "Sbp", "type": "integer", "nullable": true}, "dbp": {"title": "Dbp", "type": "integer", "nullable": true}, "symptoms": {"title": "Symptoms", "default": [], "type": "array", "nullable": true}, "medical_history": {"title": "Medical History", "default": [], "type": "array", "nullable": true}, "surgery_history": {"title": "Surgery History", "type": "string", "nullable": true}, "previous_exam_abnormal": {"title": "Previous Exam Abnormal", "default": [], "type": "array", "nullable": true}, "lung_nodule_level": {"title": "Lung Nodule Level", "type": "string", "nullable": true}, "hepatic_ct_done": {"title": "Hepatic Ct Done", "type": "string", "nullable": true}, "renal_ct_done": {"title": "Renal Ct Done", "type": "string", "nullable": true}, "anemia_types": {"title": "Anemia Types", "default": [], "type": "array", "nullable": true}, "gastroscopy_done": {"title": "Gastroscopy Done", "default": "否", "type": "string", "nullable": true}, "gastroscopy_year": {"title": "Gastroscopy Year", "type": "integer", "nullable": true}, "gastroscopy_result": {"title": "Gastroscopy Result", "type": "string", "nullable": true}, "colonoscopy_done": {"title": "Colonoscopy Done", "default": "否", "type": "string", "nullable": true}, "colonoscopy_year": {"title": "Colonoscopy Year", "type": "integer", "nullable": true}, "colonoscopy_result": {"title": "Colonoscopy Result", "type": "string", "nullable": true}, "hpv_screened": {"title": "Hpv Screened", "default": "否", "type": "string", "nullable": true}, "hpv_years": {"title": "Hpv Years", "type": "integer", "nullable": true}, "smoking": {"title": "Smoking", "default": "否", "type": "string", "nullable": true}, "smoking_years": {"title": "Smoking Years", "type": "integer", "nullable": true}, "smoking_daily": {"title": "Smoking Daily", "type": "integer", "nullable": true}, "smoking_quit": {"title": "Smoking Quit", "default": "否", "type": "string", "nullable": true}, "drinking": {"title": "Drinking", "default": "否", "type": "string", "nullable": true}, "white_liquor_amount": {"title": "White Liquor Amount", "type": "string", "nullable": true}, "beer_amount": {"title": "Beer Amount", "type": "string", "nullable": true}, "asbestos_exposure": {"title": "Asbestos Exposure", "default": "否", "type": "string", "nullable": true}, "occupation_traits": {"title": "Occupation Traits", "default": [], "type": "array", "nullable": true}, "lifestyle": {"title": "Lifestyle", "default": [], "type": "array", "nullable": true}, "diet": {"title": "Diet", "default": [], "type": "array", "nullable": true}, "marriage_status": {"title": "Marriage Status", "default": "否", "type": "string", "nullable": true}, "marriage_years": {"title": "Marriage Years", "type": "integer", "nullable": true}, "family_history": {"title": "Family History", "default": [], "type": "array", "nullable": true}, "family_cancer_types": {"title": "Family Cancer Types", "default": [], "type": "array", "nullable": true}, "antihypertensive_names": {"title": "Antihypertensive Names", "type": "string", "nullable": true}, "lipidlowering_names": {"title": "Lipidlowering Names", "type": "string", "nullable": true}, "hypoglycemic_names": {"title": "Hypoglycemic Names", "type": "string", "nullable": true}, "longterm_meds": {"title": "Longterm Meds", "type": "string", "nullable": true}}, "type": "object", "required": ["action", "name", "title"]}, "PackageResponse": {"properties": {"package_results": {"type": "string", "title": "Package Results"}, "package_status": {"type": "string", "title": "Package Status"}}, "type": "object", "required": ["package_results", "package_status"]}, "TaskResponse": {"properties": {"task_id": {"type": "string", "title": "Task Id"}, "ai_results": {"type": "string", "title": "Ai Results"}, "ai_status": {"type": "string", "title": "Ai Status"}}, "type": "object", "required": ["task_id", "ai_results", "ai_status"]}, "TaskStatusResponse": {"properties": {"task_id": {"type": "string", "title": "Task Id"}, "ai_status": {"type": "string", "title": "Ai Status"}, "ai_results": {"type": "string", "title": "Ai Results"}, "created_at": {"type": "string", "title": "Created At"}}, "type": "object", "required": ["task_id", "ai_status", "ai_results", "created_at"]}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"]}}}};
        
        const ui = SwaggerUIBundle({
            spec: spec,
            dom_id: '#swagger-ui',
            deepLinking: true,
            presets: [
                SwaggerUIBundle.presets.apis,
                SwaggerUIBundle.presets.standalone
            ],
            plugins: [
                SwaggerUIBundle.plugins.DownloadUrl
            ],
            layout: "StandaloneLayout"
        });
    </script>
</body>
</html>