<!DOCTYPE html>
<html>
<head>
    <title>体检智能分析系统 API 文档</title>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/swagger-ui-dist@3.52.5/swagger-ui.css" />
    <style>
        html {
            box-sizing: border-box;
            overflow: -moz-scrollbars-vertical;
            overflow-y: scroll;
        }
        *, *:before, *:after {
            box-sizing: inherit;
        }
        body {
            margin: 0;
            background: #fafafa;
        }
        .swagger-ui .info .title {
            color: #3b4151;
        }
        .swagger-ui .info .description {
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div id="swagger-ui"></div>
    <script src="https://unpkg.com/swagger-ui-dist@3.52.5/swagger-ui-bundle.js"></script>
    <script>
        window.onload = function() {
            const spec = {"openapi": "3.0.0", "info": {"title": "体检智能分析系统", "description": "提供体检报告解读和套餐推荐服务的API", "version": "1.0.0"}, "paths": {"/uploads": {"post": {"summary": "Upload Pdf", "description": "上传体检PDF文件（每个用户只能有一份有效文件）", "operationId": "upload_pdf_uploads_post", "requestBody": {"content": {"multipart/form-data": {"schema": {"$ref": "#/components/schemas/Body_upload_pdf_uploads_post"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UploadResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/health_report": {"post": {"summary": "Health Report", "description": "处理健康问卷提交（每个用户只能有一个进行中的任务）", "operationId": "health_report_health_report_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/HealthReportRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TaskResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/interpret_result/{uuid}": {"get": {"summary": "Get Interpret Result", "description": "获取体检报告解读结果", "operationId": "get_interpret_result_interpret_result__uuid__get", "parameters": [{"name": "uuid", "in": "path", "required": true, "schema": {"type": "string", "title": "Uuid"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TaskResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/recommend_result/{uuid}": {"get": {"summary": "Get Recommend Result", "description": "获取体检套餐推荐结果", "operationId": "get_recommend_result_recommend_result__uuid__get", "parameters": [{"name": "uuid", "in": "path", "required": true, "schema": {"type": "string", "title": "Uuid"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TaskResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/companies/{company_code}/packages/generate": {"post": {"summary": "Generate Company Packages", "description": "企业端生成体检套餐方案", "operationId": "generate_company_packages_companies__company_code__packages_generate_post", "parameters": [{"name": "company_code", "in": "path", "required": true, "schema": {"type": "string", "title": "Company Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PackageResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/companies/{company_code}/packages/status": {"get": {"summary": "Get Company Package Status", "description": "获取企业套餐生成状态", "operationId": "get_company_package_status_companies__company_code__packages_status_get", "parameters": [{"name": "company_code", "in": "path", "required": true, "schema": {"type": "string", "title": "Company Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PackageResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/companies/{company_code}/dashboard": {"get": {"summary": "Get Company Dashboard", "description": "企业端查看健康数据看板", "operationId": "get_company_dashboard_companies__company_code__dashboard_get", "parameters": [{"name": "company_code", "in": "path", "required": true, "schema": {"type": "string", "title": "Company Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DashboardResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/companies/{company_code}/packages/compare": {"get": {"summary": "Get Company Package Compare", "description": "企业端与之前体检套餐的对比分析", "operationId": "get_company_package_compare_companies__company_code__packages_compare_get", "parameters": [{"name": "company_code", "in": "path", "required": true, "schema": {"type": "string", "title": "Company Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CompareResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/health": {"get": {"summary": "Health Check", "description": "健康检查接口", "operationId": "health_check_health_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}}, "components": {"schemas": {"Body_upload_pdf_uploads_post": {"properties": {"user_id": {"type": "string", "title": "User Id"}, "file": {"type": "string", "format": "binary", "title": "File"}}, "type": "object", "required": ["user_id", "file"]}, "CompareResponse": {"properties": {"compare_analyse": {"type": "string", "title": "Compare Analyse"}}, "type": "object", "required": ["compare_analyse"]}, "DashboardResponse": {"properties": {"health_data": {"type": "string", "title": "Health Data"}}, "type": "object", "required": ["health_data"]}, "HTTPValidationError": {"properties": {"detail": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Detail"}}, "type": "object"}, "HealthReportRequest": {"properties": {"action": {"type": "string", "title": "Action"}, "name": {"type": "string", "title": "Name"}, "title": {"type": "string", "title": "Title"}, "user_id": {"title": "User Id", "type": "string", "nullable": true}, "company_code": {"title": "Company Code", "default": "default_company", "type": "string", "nullable": true}, "gender": {"title": "Gender", "type": "string", "nullable": true}, "age": {"title": "Age", "default": 0, "type": "integer", "nullable": true}, "pulse": {"title": "Pulse", "default": 0, "type": "integer", "nullable": true}, "waistline": {"title": "Waistline", "default": 0, "type": "integer", "nullable": true}, "sbp": {"title": "Sbp", "default": 0, "type": "integer", "nullable": true}, "dbp": {"title": "Dbp", "default": 0, "type": "integer", "nullable": true}, "symptoms": {"title": "Symptoms", "default": [], "type": "array", "nullable": true}, "medical_history": {"title": "Medical History", "default": [], "type": "array", "nullable": true}, "surgery_history": {"title": "Surgery History", "type": "string", "nullable": true}, "previous_exam_abnormal": {"title": "Previous Exam Abnormal", "default": [], "type": "array", "nullable": true}, "lung_nodule_level": {"title": "Lung Nodule Level", "type": "string", "nullable": true}, "hepatic_ct_done": {"title": "Hepatic Ct Done", "default": "否", "type": "string", "nullable": true}, "renal_ct_done": {"title": "Renal Ct Done", "default": "否", "type": "string", "nullable": true}, "anemia_types": {"title": "Anemia Types", "default": [], "type": "array", "nullable": true}, "gastroscopy_done": {"title": "Gastroscopy Done", "default": "否", "type": "string", "nullable": true}, "gastroscopy_year": {"title": "Gastroscopy Year", "default": 0, "type": "integer", "nullable": true}, "gastroscopy_result": {"title": "Gastroscopy Result", "type": "string", "nullable": true}, "colonoscopy_done": {"title": "Colonoscopy Done", "default": "否", "type": "string", "nullable": true}, "colonoscopy_year": {"title": "Colonoscopy Year", "default": 0, "type": "integer", "nullable": true}, "colonoscopy_result": {"title": "Colonoscopy Result", "type": "string", "nullable": true}, "hpv_screened": {"title": "Hpv Screened", "default": "否", "type": "string", "nullable": true}, "hpv_years": {"title": "Hpv Years", "default": 0, "type": "integer", "nullable": true}, "personal_history": {"title": "Personal History", "default": [], "type": "array", "nullable": true}, "smoking_years": {"title": "Smoking Years", "default": 0, "type": "integer", "nullable": true}, "smoking_daily": {"title": "Smoking Daily", "default": 0, "type": "integer", "nullable": true}, "smoking_quit": {"title": "Smoking Quit", "default": "否", "type": "string", "nullable": true}, "white_liquor_amount": {"title": "White Liquor Amount", "default": 0, "type": "integer", "nullable": true}, "beer_amount": {"title": "Beer Amount", "default": 0, "type": "integer", "nullable": true}, "occupation_traits": {"title": "Occupation Traits", "default": [], "type": "array", "nullable": true}, "lifestyle": {"title": "Lifestyle", "default": [], "type": "array", "nullable": true}, "diet": {"title": "Diet", "default": [], "type": "array", "nullable": true}, "marriage_status": {"title": "Marriage Status", "default": "否", "type": "string", "nullable": true}, "marriage_years": {"title": "Marriage Years", "default": 0, "type": "integer", "nullable": true}, "family_history": {"title": "Family History", "default": [], "type": "array", "nullable": true}, "family_cancer_types": {"title": "Family Cancer Types", "default": [], "type": "array", "nullable": true}, "antihypertensive_names": {"title": "Antihypertensive Names", "type": "string", "nullable": true}, "lipidlowering_names": {"title": "Lipidlowering Names", "type": "string", "nullable": true}, "hypoglycemic_names": {"title": "Hypoglycemic Names", "type": "string", "nullable": true}, "longterm_meds": {"title": "Longterm Meds", "type": "string", "nullable": true}}, "type": "object", "required": ["action", "name", "title"]}, "PackageResponse": {"properties": {"package_results": {"type": "string", "title": "Package Results"}, "package_status": {"type": "string", "title": "Package Status"}}, "type": "object", "required": ["package_results", "package_status"]}, "TaskResponse": {"properties": {"uuid": {"type": "string", "title": "Uuid"}, "ai_results": {"type": "string", "title": "Ai Results"}, "ai_status": {"type": "string", "title": "Ai Status"}}, "type": "object", "required": ["uuid", "ai_results", "ai_status"]}, "UploadResponse": {"properties": {"message": {"type": "string", "title": "Message"}, "file_path": {"type": "string", "title": "File Path"}, "upload_time": {"type": "string", "title": "Upload Time"}}, "type": "object", "required": ["message", "file_path", "upload_time"]}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"]}}}};
            
            const ui = SwaggerUIBundle({
                spec: spec,
                dom_id: '#swagger-ui',
                deepLinking: true,
                presets: [
                    SwaggerUIBundle.presets.apis,
                    SwaggerUIBundle.presets.standalone
                ],
                plugins: [
                    SwaggerUIBundle.plugins.DownloadUrl
                ]
            });
        };
    </script>
</body>
</html>